import i18next from 'i18next';
import { initReactI18next } from 'react-i18next';

import { useLanguageStore } from '../contexts/useLanguageStore';

const resources = {
  en: {
    translation: {
      // Landing & Auth
      welcomeTitle: 'Welcome to Complete-Pet LMS',
      welcomeSubtitle: 'Select your facility to continue',
      florida: 'Complete-Pet Florida',
      vermont: 'Complete-Pet Vermont',
      clickToContinue: 'Click to continue',
      loginTitle: 'Welcome to {{location}} - LMS',
      signInToContinue: 'Sign in to continue',
      email: 'Email',
      usernameOrEmail: 'Username or Email',
      password: 'Password',
      signIn: 'Sign in',
      loginDescription: 'Multi-location training and compliance tracking for Complete-Pet team members.',
      loginPlaceholder: 'you@example.com',
      invalidCredentials: 'Invalid credentials. Please try again.',
      
      // Navigation
      dashboard: 'Dashboard',
      userManagement: 'User Management',
      courseManagement: 'Course Management',
      trainingMatrix: 'Training Matrix',
      reportsAnalytics: 'Reports & Analytics',
      systemSettings: 'System Settings',
      administration: 'Administration',
      signOut: 'Sign out',
      
      // Dashboard
      dashboardWelcome: 'Welcome back, {{name}}',
      systemAdministratorDashboard: 'System Administrator Dashboard',
      dashboardSubtitle: 'Monitor training activity, manage assignments, and stay compliant across Complete-Pet locations.',
      totalUsers: 'Total Users',
      activeCourses: 'Active Courses',
      activeEnrollments: 'Active Enrollments',
      completionRate: 'Completion Rate',
      pendingApprovals: 'Pending Approvals',
      pendingTrainings: 'Pending Trainings',
      startTraining: 'Start Training',
      noApprovalsPending: 'No Approvals Pending ✅',
      quickActions: 'Quick Actions',
      manageCourses: 'Manage Courses',
      createEditCourses: 'Create and edit training courses',
      manageUsers: 'User Management',
      manageUserAccounts: 'Manage user accounts',
      viewMatrix: 'Training Matrix',
      viewCompletionRecords: 'View completion records',
      viewReports: 'View Reports',
      trainingAnalytics: 'Training analytics',
      pendingActions: 'Pending Actions',
      allUpToDate: 'All up to date!',
      noPendingActions: 'No pending actions',
      systemStatus: 'System Status',
      security: 'Security',
      compliance: 'Compliance',
      lastBackup: 'Last Backup',
      active: 'Active',
      aboveTarget: 'Above target',
      thisMonth: 'this month',
      newCourses: 'new courses',
      engagement: 'engagement',
      hoursAgo: 'hours ago',
      
      // User Management
      userManagementTitle: 'User Management',
      userManagementSubtitle: 'Manage user accounts, profiles, and access permissions.',
      bulkImportCSV: 'Bulk Import (CSV)',
      inviteUserEmail: 'Invite User (Email)',
      totalUsersCount: 'Total Users',
      activeUsers: 'Active Users',
      administrators: 'Administrators',
      employees: 'Employees',
      userDirectory: 'User Directory',
      searchUsers: 'Search users...',
      user: 'User',
      department: 'Department',
      role: 'Role',
      enrollments: 'Enrollments',
      status: 'Status',
      joined: 'Joined',
      actions: 'Actions',
      assigned: 'assigned',
      completed: 'completed',
      unassigned: 'Unassigned',
      administrator: 'Administrator',
      howToAddUsers: 'How to Add Users',
      bulkImportDesc: 'Upload a CSV file with multiple employees at once. Perfect for onboarding groups after in-person training sessions.',
      inviteUserDesc: 'Send invitations to individual new employees. For workers without personal email, the system generates a login using their initials + Employee ID (e.g., JDEMP001@complete-pet.com for John Doe with ID EMP001).',
      afterInvitation: 'After invitation, users can login and you can edit their profiles to add department, position, etc.',
      exportCSV: 'Export CSV',
      formerEmployees: 'Former Employees',
      
      // Create Employee Modal
      createEmployeeAccess: 'Create Employee Access',
      generateLoginCredentials: 'Generate login credentials for a new Complete-Pet FL employee. Employee ID will be auto-assigned.',
      workerWithoutEmail: 'Worker without email? Use auto-generated login',
      autoGeneratedLoginDesc: 'For plant workers without personal email, we\'ll create a login using their initials + Employee ID (e.g., JDEMP001@complete-pet.com for John Doe).',
      fullName: 'Full Name',
      emailAddress: 'Email Address',
      jobTitle: 'Job Title',
      initialRole: 'Initial Role',
      assignedSupervisor: 'Assigned Supervisor',
      selectDepartment: 'Select department',
      selectJobTitle: 'Select job title',
      selectSupervisor: 'Select supervisor',
      selectSupervisorDesc: 'Select the direct supervisor who will review and approve this employee\'s training completions.',
      personalMessage: 'Personal Message (Optional)',
      addPersonalWelcome: 'Add a personal welcome message...',
      important: 'Important',
      credentialsSharedManually: 'After clicking "Create", you\'ll receive the login credentials (with auto-generated Employee ID) to share with the employee manually (in person, by phone, or printed document). No email will be sent automatically.',
      autoEnrollment: 'Auto-Enrollment',
      autoEnrollmentDesc: 'Based on the department and position selected, relevant training courses will be automatically assigned when this employee logs in for the first time.',
      cancel: 'Cancel',
      createEmployeeBtn: 'Create Employee Access',
      employee: 'Employee',
      manager: 'Manager',
      supervisor: 'Supervisor',
      admin: 'Admin',
      globalAdmin: 'Global Admin',
      
      // Bulk Import Modal
      bulkUserImport: 'Bulk User Import',
      importMultipleUsers: 'Import multiple users at once and designate which courses should skip content viewing',
      csvFormatRequirements: 'CSV Format Requirements',
      requiredColumns: 'Required columns: full_name, department, job_title',
      optionalColumns: 'Optional columns: email, supervisor_email, app_role, phone',
      employeeIdAutoGenerated: 'Employee IDs are auto-generated - leave the employee_id column out of your CSV',
      supervisorEmailRequired: 'For employees: supervisor_email is required (must match an existing supervisor\'s email)',
      noEmailProvided: 'If no email provided: System will generate login email using initials + Employee ID (e.g., JDEMP001@complete-pet.com)',
      downloadTemplate: 'Download Template',
      uploadCSVFile: 'Upload CSV File',
      clickToBrowse: 'Click to browse or drag and drop your CSV file here',
      chooseFile: 'Choose File',
      noFileChosen: 'No file chosen',
      
      // Course Management
      courseManagementTitle: 'Course Management',
      courseManagementSubtitle: 'Create, manage, and track training courses and learner progress.',
      createCourse: 'Create Course',
      totalCourses: 'Total Courses',
      published: 'Published',
      totalEnrollments: 'Total Enrollments',
      courseLibrary: 'Course Library',
      coursesScoped: 'All courses scoped to the selected location.',
      coursesFound: 'courses found',
      uploadContentPublish: 'Upload content and publish courses to see them listed here.',
      
      // Create Course Modal
      createNewCourse: 'Create New Course',
      fillDetailsToCreate: 'Fill in the details to create a new course.',
      courseDetails: 'Course Details',
      assignmentRules: 'Assignment Rules',
      assignmentExceptions: 'Exceptions',
      assignmentExceptionsDesc: 'Select who is exempted from taking this training',
      courseQuiz: 'Course Quiz',
      courseTitle: 'Course Title',
      description: 'Description',
      contentType: 'Content Type',
      durationMinutes: 'Duration (minutes)',
      passPercentage: 'Pass Percentage (%)',
      courseContentFile: 'Course Content File',
      chooseFileUpload: 'Choose File',
      mandatory: 'Mandatory',
      mandatoryDesc: 'If enabled, this course will be automatically assigned to ALL employees in the facility.',
      publish: 'Publish',
      saveCourse: 'Save Course',
      video: 'Video',
      pdf: 'PDF',
      powerpoint: 'PowerPoint',
      scorm: 'SCORM',
      other: 'Other',
      
      // Assignment Rules Tab
      selectDepartments: 'Select Departments',
      selectDepartmentsDesc: 'Choose which departments should be assigned this training',
      selectJobPositions: 'Select Job Positions',
      selectJobPositionsDesc: 'Choose which job positions should be assigned this training (within selected departments)',
      allDepartments: 'All Departments',
      specificDepartments: 'Specific Departments',
      allPositions: 'All Positions',
      specificPositions: 'Specific Positions',
      operations: 'Operations',
      maintenance: 'Maintenance',
      quality: 'Quality Control',
      adminDepartment: 'Administration',
      
      // Quiz Tab
      quizSettings: 'Quiz Settings',
      questionsCount: 'This course requires 4 questions with 4 answer options each',
      question: 'Question',
      answer: 'Answer',
      correctAnswer: 'Correct Answer',
      addQuestion: 'Add Question',
      removeQuestion: 'Remove Question',
      questionText: 'Question {{number}}',
      answerOption: 'Answer {{number}}',
      markAsCorrect: 'Mark as correct',
      
      // Training Matrix
      trainingMatrixTitle: 'Training Matrix',
      trainingMatrixSubtitle: 'View and manage training completion status across all users and courses.',
      
      // Reports
      reportsTitle: 'Reports & Analytics',
      reportsSubtitle: 'Analyze training data, compliance metrics, and performance trends.',
      
      // System Settings
      systemSettingsTitle: 'System Settings',
      systemSettingsSubtitle: 'Configure system-wide settings and preferences.',
      
      // Common
      theme: 'Theme',
      language: 'Language',
      light: 'Light',
      dark: 'Dark',
      loading: 'Loading...',
      save: 'Save',
      delete: 'Delete',
      edit: 'Edit',
      view: 'View',
      close: 'Close',
      yes: 'Yes',
      no: 'No',
      created: 'Created'
    }
  },
  es: {
    translation: {
      // Landing & Auth
      welcomeTitle: 'Bienvenido al LMS de Complete-Pet',
      welcomeSubtitle: 'Selecciona tu instalación para continuar',
      florida: 'Complete-Pet Florida',
      vermont: 'Complete-Pet Vermont',
      clickToContinue: 'Haz clic para continuar',
      loginTitle: 'Bienvenido a {{location}} - LMS',
      signInToContinue: 'Inicia sesión para continuar',
      email: 'Correo electrónico',
      usernameOrEmail: 'Usuario o correo',
      password: 'Contraseña',
      signIn: 'Iniciar sesión',
      loginDescription: 'Capacitación y cumplimiento multi-sede para los miembros del equipo de Complete-Pet.',
      loginPlaceholder: 'tu@ejemplo.com',
      invalidCredentials: 'Credenciales inválidas. Intenta nuevamente.',
      
      // Navigation
      dashboard: 'Panel de control',
      userManagement: 'Gestión de usuarios',
      courseManagement: 'Gestión de cursos',
      trainingMatrix: 'Matriz de capacitación',
      reportsAnalytics: 'Reportes y analítica',
      systemSettings: 'Configuración del sistema',
      administration: 'Administración',
      signOut: 'Cerrar sesión',
      
      // Dashboard
      dashboardWelcome: 'Bienvenido de nuevo, {{name}}',
      systemAdministratorDashboard: 'Panel de Administrador del Sistema',
      dashboardSubtitle: 'Monitorea actividad de capacitación, gestiona asignaciones y mantén el cumplimiento en todas las ubicaciones de Complete-Pet.',
      totalUsers: 'Usuarios totales',
      activeCourses: 'Cursos activos',
      activeEnrollments: 'Inscripciones activas',
      completionRate: 'Tasa de finalización',
      pendingApprovals: 'Aprobaciones pendientes',
      pendingTrainings: 'Capacitaciones Pendientes',
      startTraining: 'Iniciar Capacitación',
      noApprovalsPending: 'No hay Aprobaciones Pendientes ✅',
      quickActions: 'Acciones rápidas',
      manageCourses: 'Gestionar cursos',
      createEditCourses: 'Crear y editar cursos de capacitación',
      manageUsers: 'Gestión de usuarios',
      manageUserAccounts: 'Gestionar cuentas de usuario',
      viewMatrix: 'Matriz de capacitación',
      viewCompletionRecords: 'Ver registros de finalización',
      viewReports: 'Ver reportes',
      trainingAnalytics: 'Analítica de capacitación',
      pendingActions: 'Acciones pendientes',
      allUpToDate: '¡Todo al día!',
      noPendingActions: 'No hay acciones pendientes',
      systemStatus: 'Estado del sistema',
      security: 'Seguridad',
      compliance: 'Cumplimiento',
      lastBackup: 'Último respaldo',
      active: 'Activo',
      aboveTarget: 'Por encima del objetivo',
      thisMonth: 'este mes',
      newCourses: 'cursos nuevos',
      engagement: 'participación',
      hoursAgo: 'horas atrás',
      
      // User Management
      userManagementTitle: 'Gestión de usuarios',
      userManagementSubtitle: 'Gestiona cuentas de usuario, perfiles y permisos de acceso.',
      bulkImportCSV: 'Importación masiva (CSV)',
      inviteUserEmail: 'Invitar usuario (correo)',
      totalUsersCount: 'Usuarios totales',
      activeUsers: 'Usuarios activos',
      administrators: 'Administradores',
      employees: 'Empleados',
      userDirectory: 'Directorio de usuarios',
      searchUsers: 'Buscar usuarios...',
      user: 'Usuario',
      department: 'Departamento',
      role: 'Rol',
      enrollments: 'Inscripciones',
      status: 'Estado',
      joined: 'Ingreso',
      actions: 'Acciones',
      assigned: 'asignado',
      completed: 'completado',
      unassigned: 'Sin asignar',
      administrator: 'Administrador',
      howToAddUsers: 'Cómo agregar usuarios',
      bulkImportDesc: 'Carga un archivo CSV con varios empleados a la vez. Perfecto para incorporar grupos después de sesiones de capacitación presenciales.',
      inviteUserDesc: 'Envía invitaciones a nuevos empleados individuales. Para trabajadores sin correo personal, el sistema genera un inicio de sesión usando sus iniciales + ID de empleado (ej., JDEMP001@complete-pet.com para John Doe con ID EMP001).',
      afterInvitation: 'Después de la invitación, los usuarios pueden iniciar sesión y puedes editar sus perfiles para agregar departamento, posición, etc.',
      exportCSV: 'Exportar CSV',
      formerEmployees: 'Ex empleados',
      
      // Create Employee Modal
      createEmployeeAccess: 'Crear acceso de empleado',
      generateLoginCredentials: 'Generar credenciales de inicio de sesión para un nuevo empleado de Complete-Pet FL. El ID de empleado se asignará automáticamente.',
      workerWithoutEmail: '¿Trabajador sin correo? Usa inicio de sesión auto-generado',
      autoGeneratedLoginDesc: 'Para trabajadores de planta sin correo personal, crearemos un inicio de sesión usando sus iniciales + ID de empleado (ej., JDEMP001@complete-pet.com para John Doe).',
      fullName: 'Nombre completo',
      emailAddress: 'Correo electrónico',
      jobTitle: 'Título del trabajo',
      initialRole: 'Rol inicial',
      assignedSupervisor: 'Supervisor asignado',
      selectDepartment: 'Seleccionar departamento',
      selectJobTitle: 'Seleccionar título del trabajo',
      selectSupervisor: 'Seleccionar supervisor',
      selectSupervisorDesc: 'Selecciona el supervisor directo que revisará y aprobará las finalizaciones de capacitación de este empleado.',
      personalMessage: 'Mensaje personal (opcional)',
      addPersonalWelcome: 'Agrega un mensaje de bienvenida personal...',
      important: 'Importante',
      credentialsSharedManually: 'Después de hacer clic en "Crear", recibirás las credenciales de inicio de sesión (con ID de empleado auto-generado) para compartir con el empleado manualmente (en persona, por teléfono o documento impreso). No se enviará ningún correo automáticamente.',
      autoEnrollment: 'Inscripción automática',
      autoEnrollmentDesc: 'Según el departamento y posición seleccionados, los cursos de capacitación relevantes se asignarán automáticamente cuando este empleado inicie sesión por primera vez.',
      cancel: 'Cancelar',
      createEmployeeBtn: 'Crear acceso de empleado',
      employee: 'Empleado',
      manager: 'Gerente',
      supervisor: 'Supervisor',
      admin: 'Administrador',
      globalAdmin: 'Administrador global',
      
      // Bulk Import Modal
      bulkUserImport: 'Importación masiva de usuarios',
      importMultipleUsers: 'Importa varios usuarios a la vez y designa qué cursos deben omitir la visualización de contenido',
      csvFormatRequirements: 'Requisitos de formato CSV',
      requiredColumns: 'Columnas requeridas: full_name, department, job_title',
      optionalColumns: 'Columnas opcionales: email, supervisor_email, app_role, phone',
      employeeIdAutoGenerated: 'Los ID de empleado se generan automáticamente - deja la columna employee_id fuera de tu CSV',
      supervisorEmailRequired: 'Para empleados: supervisor_email es requerido (debe coincidir con el correo de un supervisor existente)',
      noEmailProvided: 'Si no se proporciona correo: El sistema generará un correo de inicio de sesión usando iniciales + ID de empleado (ej., JDEMP001@complete-pet.com)',
      downloadTemplate: 'Descargar plantilla',
      uploadCSVFile: 'Cargar archivo CSV',
      clickToBrowse: 'Haz clic para navegar o arrastra y suelta tu archivo CSV aquí',
      chooseFile: 'Elegir archivo',
      noFileChosen: 'Ningún archivo elegido',
      
      // Course Management
      courseManagementTitle: 'Gestión de cursos',
      courseManagementSubtitle: 'Crea, gestiona y rastrea cursos de capacitación y progreso de alumnos.',
      createCourse: 'Crear curso',
      totalCourses: 'Cursos totales',
      published: 'Publicados',
      totalEnrollments: 'Inscripciones totales',
      courseLibrary: 'Biblioteca de cursos',
      coursesScoped: 'Todos los cursos para la ubicación seleccionada.',
      coursesFound: 'cursos encontrados',
      uploadContentPublish: 'Carga contenido y publica cursos para verlos listados aquí.',
      
      // Create Course Modal
      createNewCourse: 'Crear nuevo curso',
      fillDetailsToCreate: 'Completa los detalles para crear un nuevo curso.',
      courseDetails: 'Detalles del curso',
      assignmentRules: 'Reglas de asignación',
      assignmentExceptions: 'Excepciones',
      assignmentExceptionsDesc: 'Selecciona quién está exento de tomar esta capacitación',
      courseQuiz: 'Cuestionario del curso',
      courseTitle: 'Título del curso',
      description: 'Descripción',
      contentType: 'Tipo de contenido',
      durationMinutes: 'Duración (minutos)',
      passPercentage: 'Porcentaje de aprobación (%)',
      courseContentFile: 'Archivo de contenido del curso',
      chooseFileUpload: 'Elegir archivo',
      mandatory: 'Obligatorio',
      mandatoryDesc: 'Si está habilitado, este curso se asignará automáticamente a TODOS los empleados de la instalación.',
      publish: 'Publicar',
      saveCourse: 'Guardar curso',
      video: 'Video',
      pdf: 'PDF',
      powerpoint: 'PowerPoint',
      scorm: 'SCORM',
      other: 'Otro',
      
      // Assignment Rules Tab
      selectDepartments: 'Seleccionar departamentos',
      selectDepartmentsDesc: 'Elige qué departamentos deben ser asignados a esta capacitación',
      selectJobPositions: 'Seleccionar posiciones de trabajo',
      selectJobPositionsDesc: 'Elige qué posiciones de trabajo deben ser asignadas a esta capacitación (dentro de los departamentos seleccionados)',
      allDepartments: 'Todos los departamentos',
      specificDepartments: 'Departamentos específicos',
      allPositions: 'Todas las posiciones',
      specificPositions: 'Posiciones específicas',
      operations: 'Operaciones',
      maintenance: 'Mantenimiento',
      quality: 'Control de calidad',
      adminDepartment: 'Administración',
      
      // Quiz Tab
      quizSettings: 'Configuración del cuestionario',
      questionsCount: 'Este curso requiere 4 preguntas con 4 opciones de respuesta cada una',
      question: 'Pregunta',
      answer: 'Respuesta',
      correctAnswer: 'Respuesta correcta',
      addQuestion: 'Agregar pregunta',
      removeQuestion: 'Eliminar pregunta',
      questionText: 'Pregunta {{number}}',
      answerOption: 'Respuesta {{number}}',
      markAsCorrect: 'Marcar como correcta',
      
      // Training Matrix
      trainingMatrixTitle: 'Matriz de capacitación',
      trainingMatrixSubtitle: 'Ver y gestionar el estado de finalización de capacitación en todos los usuarios y cursos.',
      
      // Reports
      reportsTitle: 'Reportes y analítica',
      reportsSubtitle: 'Analiza datos de capacitación, métricas de cumplimiento y tendencias de rendimiento.',
      
      // System Settings
      systemSettingsTitle: 'Configuración del sistema',
      systemSettingsSubtitle: 'Configura ajustes y preferencias de todo el sistema.',
      
      // Common
      theme: 'Tema',
      language: 'Idioma',
      light: 'Claro',
      dark: 'Oscuro',
      loading: 'Cargando...',
      save: 'Guardar',
      delete: 'Eliminar',
      edit: 'Editar',
      view: 'Ver',
      close: 'Cerrar',
      yes: 'Sí',
      no: 'No',
      created: 'Creado'
    }
  }
};

i18next.use(initReactI18next).init({
  resources,
  lng: useLanguageStore.getState().language,
  fallbackLng: 'en',
  interpolation: {
    escapeValue: false
  },
  react: {
    useSuspense: false
  }
});

useLanguageStore.subscribe((state) => {
  i18next.changeLanguage(state.language);
});

export default i18next;
